{% extends 'base.html' %}

{% load widget_tweaks %}

{% block title %}Editar Remito{% endblock %}

{% block breadcrumb %}
  <li class="breadcrumb-item"><a href="{% url 'remitos' %}">Remitos</a></li>
  <li class="breadcrumb-item active">Remito {{ remito.remito_id }}</li>
{% endblock %}

{% block content %}
<div>
<table class="table table-triped">
  <tr>
    <th>Notas:</th>
    <td> {{ remito.notas }} </td>
  </tr>
  <tr>
    <th>Creado por:</th>
    <td> {{ remito.created_by }} </td>
  </tr>
  <tr>
    <th>Fecha de creaci贸n:</th>
    <td> {{ remito.created_at }} </td>
  </tr>
  <tr>
    <th>Recibido por:</th>
    <td> {{ remito.received_by }} </td>
  </tr>
  <tr>
    <th>Fecha de recepci贸n:</th>
    <td> {{ remito.received_at }} </td>
  </tr>
</table>
</div>
{% if action == "ver" %}
{% if not remito.received_at %}
    <a href="{% url 'remito_receive' remito.remito_id %}"
       class="btn btn-success">Confirmar Recepci贸n</a>
    {% endif %}
{% else %}
<div>
    <a href="{% url 'new_remito_field' remito.remito_id %}"
       class="btn btn-success">Agregar Campo</a>
    <a href="{% url 'edit_remito' remito_id=remito.remito_id action='ver' %}"
       class="btn btn-warning">Finalizar</a>
</div>
{% endif %}

<div>
  <img style="-webkit-user-select: none; display: block; margin: auto; cursor: zoom-in;"
       src="{% url 'remito_qr' remito.remito_id %}" width="131" height="131" />
</div>

<div>
 <table class="table table-triped table-sm table-responsive" >
    <thead class="thead-inverse">
      <tr>
        <th>ID</th>
        <th>Barcode</th>
        <th>Descripci贸n</th>
        <th>Marca</th>
        <th>Cantidad</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {% for field in fields %}
      <tr>
        <td>{{ field.item.item_id }}</td>
        <td>{{ field.item.barcode }}</td>
        <td>{{ field.item.descripcion }}</td>
        <td>{{ field.item.marca }}</td>
        <td>{{ field.cantidad }}</td>
        {% endfor %}
    </tbody>
  </table>
</div>
{% include 'includes/pagination.html' %}
{% endblock %}
